<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Header Desktop Compañía 2 -->
    <template id="template_header_style_4_company2" inherit_id="theme_prime.template_header_style_4" name="Header Style 4 - Company 2">

        <!-- Ajustes buscador -->
        <xpath expr="//t[@t-call='website.website_search_box_input']" position="inside">
            <t t-set="_classes" t-valuef="position-relative"/>
            <t t-set="_input_classes" t-valuef="rounded-pill"/>
            <t t-set="_submit_classes" t-valuef="btn-search-custom position-absolute end-0 top-0 rounded-pill"/>
        </xpath>

        <!-- Submenu -->
        <xpath expr="//t[@t-call='website.submenu']" position="inside">
            <t t-set="item_class" t-value="'nav-item flex-grow-1 text-center nav-item-short-border'"/>
        </xpath>
        
        <!-- Bloque Login + Carrito -->
        <xpath expr="//div[@class='row align-items-center justify-content-end tp-account-info']" position="replace">
            <div class="row align-items-center justify-content-end tp-account-info">
                <!-- Login -->
                <div class="col-auto my-1" t-if="not user_id._is_public() or request.website.viewref('portal.user_sign_in').active">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <a href="#" class="tp-account-info-sidebar-action">
                                <img src="/theme_prime_conedera/static/src/img/login.png" alt="Login"
                                     style="margin-bottom: 3px;" width="22" height="22"/>
                            </a>
                        </div>
                        <div class="flex-grow-1 ms-3 d-none d-xl-block">
                            <a class="tp-account-info-sidebar-action" href="#"><p class="h6 mb-0">Login</p></a>
                        </div>
                    </div>
                </div>
                <!-- Carrito -->
                <div class="col-auto my-1">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <t t-nocache="The number of products is dynamic, this rendering cannot be cached.">
                                <t t-set="website_sale_cart_quantity" 
                                   t-value="request.session['website_sale_cart_quantity'] if 'website_sale_cart_quantity' in request.session else website.sale_get_order().cart_quantity or 0"/>
                                <t t-set="show_cart" t-value="website.has_ecommerce_access()"/>
                                <div t-attf-class="o_not_editable position-relative o_wsale_my_cart tp-cart-sidebar-action #{not show_cart and 'd-none'}">
                                    <a href="/shop/cart">
                                        <img src="/theme_prime_conedera/static/src/img/cart.png"
                                             alt="Carrito"
                                             style="margin-bottom: 3px;"
                                             width="22"
                                             height="22"/>
                                        <sup class="my_cart_quantity badge" style="background-color: #FF931E !important;" 
                                             t-out="website_sale_cart_quantity" 
                                             t-att-data-order-id="request.session.get('sale_order_id', '')"/>
                                    </a>
                                </div>
                            </t>
                        </div>
                        <div class="flex-grow-1 ms-3 d-none d-xl-block">
                            <t t-set="website_sale_cart_quantity" 
                               t-value="request.session['website_sale_cart_quantity'] if 'website_sale_cart_quantity' in request.session else website.sale_get_order().cart_quantity or 0"/>
                            <t t-set="show_cart" t-value="website.has_ecommerce_access()"/>
                            <div t-attf-class="o_not_editable position-relative o_wsale_my_cart tp-cart-sidebar-action #{not show_cart and 'd-none'}">
                                <a href="/shop/cart"><p class="h6 mb-0">Carrito</p></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>

        <!-- Nav class -->
        <xpath expr="//t[@t-set='_nav_class']" position="replace">
            <t t-set="_nav_class" t-value="'flex-grow-1 justify-content-between'"/>
        </xpath>
    </template>

    <!-- Submenu con iconos -->
    <template id="website_submenu_icon_image_company2" inherit_id="website.submenu" name="Add icon_image to Website Menu - Company 2">
        <xpath expr="//a/span" position="before">
            <t t-if="submenu.icon_image">
                <img t-att-src="'/web/image/website.menu/%s/icon_image' % submenu.id"
                     class="tp-menu-icon me-2"
                     style="height:18px; width:18px; object-fit:contain;"/>
            </t>
        </xpath>
    </template>

    <!-- Header Mobile Compañía 2 -->
    <template id="template_header_mobile_company2" inherit_id="theme_prime.template_header_mobile" name="Header Mobile Company 2">
        <!-- Ocultar menú -->
        <xpath expr="//button[contains(@class, 'tp-menu-sidebar-action')]" position="replace"/>
        <!-- Ocultar carrito -->
        <xpath expr="//t[@t-call='theme_prime.component_account_info']" position="replace"/>
    </template>
</odoo>


<!-- <?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="template_header_style_4_custom" inherit_id="theme_prime.template_header_style_4">
        <xpath expr="//t[@t-call='website.website_search_box_input']" position="inside">
            <t t-set="_classes" t-valuef="position-relative"/>
            <t t-set="_input_classes" t-valuef="rounded-pill"/>
            <t t-set="_submit_classes" t-valuef="btn-search-custom position-absolute end-0 top-0 rounded-pill"/>
        </xpath>

        <xpath expr="//t[@t-call='website.submenu']" position="inside">
            <t t-set="item_class" t-value="'nav-item flex-grow-1 text-center nav-item-short-border'"/>
        </xpath>
        
        <xpath expr="//div[@class='row align-items-center justify-content-end tp-account-info']" position="replace">
            <div class="row align-items-center justify-content-end tp-account-info">
                <div class="col-auto my-1" t-if="not user_id._is_public() or request.website.viewref('portal.user_sign_in').active">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <a href="#" class="tp-account-info-sidebar-action">
                                <img src="/theme_prime_conedera/static/src/img/login.png" alt="Carrito"
                                     style="margin-bottom: 3px;" width="22" height="22"/>
                            </a>
                        </div>
                        <div class="flex-grow-1 ms-3 d-none d-xl-block">
                            <a class="tp-account-info-sidebar-action" href="#"><p class="h6 mb-0">Login</p></a>
                        </div>
                    </div>
                </div>
                <div class="col-auto my-1">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <t t-nocache="The number of products is dynamic, this rendering cannot be cached.">
                                <t t-set="website_sale_cart_quantity" t-value="request.session['website_sale_cart_quantity'] if 'website_sale_cart_quantity' in request.session else website.sale_get_order().cart_quantity or 0"/>
                                <t t-set="show_cart" t-value="website.has_ecommerce_access()"/>
                                <div t-attf-class="o_not_editable position-relative o_wsale_my_cart tp-cart-sidebar-action #{not show_cart and 'd-none'}">
                                    <a href="/shop/cart">
                                        <img src="/theme_prime_conedera/static/src/img/cart.png"
                                             alt="Carrito"
                                             style="margin-bottom: 3px;"
                                             width="22"
                                             height="22"/>
                                        <!-- <i class="dri dri-cart"/> -->
                                        <sup class="my_cart_quantity badge" style="background-color: #FF931E !important;" t-out="website_sale_cart_quantity" t-att-data-order-id="request.session.get('sale_order_id', '')"/>
                                    </a>
                                </div>
                            </t>
                        </div>
                        <div class="flex-grow-1 ms-3 d-none d-xl-block">
                            <t t-set="website_sale_cart_quantity" t-value="request.session['website_sale_cart_quantity'] if 'website_sale_cart_quantity' in request.session else website.sale_get_order().cart_quantity or 0"/>
                            <t t-set="show_cart" t-value="website.has_ecommerce_access()"/>
                            <div t-attf-class="o_not_editable position-relative o_wsale_my_cart tp-cart-sidebar-action #{not show_cart and 'd-none'}">
                                <a href="/shop/cart"><p class="h6 mb-0">Carrito</p></a>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </xpath>

        <xpath expr="//t[@t-set='_nav_class']" position="replace">
            <t t-set="_nav_class" t-value="'flex-grow-1 justify-content-between'"/>
        </xpath>
        
    </template>

    <template id="website_submenu_icon_image_inherit" inherit_id="website.submenu" name="Add icon_image to Website Menu">
        <xpath expr="//a/span" position="before">
            <t t-if="submenu.icon_image">
                <img t-att-src="'/web/image/website.menu/%s/icon_image' % submenu.id"
                    class="tp-menu-icon me-2"
                    style="height:18px; width:18px; object-fit:contain;"/>
            </t>
        </xpath>
    </template>

    <!-- Header versión mobil -->
    <template id="template_header_mobile_hide_cart_and_menu" inherit_id="theme_prime.template_header_mobile">
        <!-- Ocultar menu-->
        <xpath expr="//button[contains(@class, 'tp-menu-sidebar-action')]" position="replace"></xpath>
        <!-- Ocultar carrito -->
        <xpath expr="//t[@t-call='theme_prime.component_account_info']" position="replace"/>
    </template>


</odoo> -->
