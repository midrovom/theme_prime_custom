<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="s_dynamic_snippet_categories" name="Categorias">
        <t t-call="website.s_dynamic_snippet_template">
            <t t-set="snippet_name" t-value="'s_dynamic_snippet_categories'"/>
            <t t-call="advance_theme_front.s_dynamic_snippet_categories_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_snippet_categories_options" inherit_id="website.snippet_options">
        <xpath expr="." position="inside">
            <t t-call="website.dynamic_snippet_carousel_options_template">
                <t t-set="snippet_name" t-value="'dynamic_snippet_categories'"/>
                <t t-set="snippet_selector" t-value="'.s_dynamic_snippet_categories'"/>
            </t>
        </xpath>
    </template>

    <!-- TEMPLATE -->
    <template id="dynamic_filter_template_category" name="Image + Name Category">
        <t t-foreach="records" t-as="data" data-thumb="/website_sale/static/src/img/snippets_options/product_image_with_name.svg">
            <t t-set="record" t-value="data['_record']"/>
            <div class="card h-100 border-0 w-100 rounded-0 bg-transparent o_dynamic_product_hovered" t-att-data-url="record.website_url">
                <div t-if="is_sample" class="h5 o_ribbon_right bg-primary text-uppercase">Sample</div>

                <a class="o_carousel_product_img_link overflow-hidden" t-att-href="record.website_url">
                    <img class="card-img-top h-auto o_img_product_square o_img_product_cover rounded"
                        loading="lazy"
                        t-att-src="data['image_512']"
                        t-att-alt="record.name"/>
                </a>

                <div class="h6 text-center mt-2 p-2" t-esc="record.name"/>

                <div class="text-center text-muted small">
                    <t t-if="data.get('product_count')">
                        <t t-esc="data['product_count']"/> productos
                    </t>
                </div>
            </div>
        </t>
    </template>  

    <record id="advance_theme_front.s_dynamic_snippet_categories_js" model="ir.asset">
        <field name="name">Dynamic snippet categories 000 JS</field>
        <field name="bundle">web.assets_frontend</field>
        <field name="path">advance_theme_front/static/src/snippets/s_dynamic_snippet_categories/000.js</field>
    </record>
</odoo>
