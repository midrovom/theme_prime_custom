<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Acción del servidor para obtener marcas -->
        <record id="dynamic_snippet_brands_action" model="ir.actions.server">
            <field name="name">Marcas Seleccionadas</field>
            <field name="model_id" ref="website_sale.model_product_attribute_value"/>
            <field name="state">code</field>
            <field name="code">
brands = model.env['website.snippet.filter']._get_public_brands()
action = brands
            </field>
        </record>

        <!-- Filtro backend (Odoo) para todas las MARCAS -->
        <record id="dynamic_snippet_all_brands_filter" model="ir.filters">
            <field name="name">Todas las Marcas</field>
            <field name="model_id">product.attribute.value</field>
            <field name="user_id" eval="False" />
            <field name="domain">
[
    ["attribute_id.name", "=", "Brand"],
    ["active", "=", True]
]
            </field>
            <field name="context">{}</field>
            <field name="sort">["name asc"]</field>
        </record>

        <!-- Snippet Filter → Todas las marcas -->
        <record id="dynamic_filter_all_brands" model="website.snippet.filter">
            <field name="filter_id" ref="conedera_theme_common.dynamic_snippet_all_brands_filter"/>
            <field name="field_names">name,image_512</field>
            <field name="limit" eval="16"/>
            <field name="name">Todas las Marcas</field>
        </record>

        <!-- Snippet Filter → Marcas manualmente seleccionadas -->
        <record id="dynamic_filter_selected_brands" model="website.snippet.filter">
            <field name="action_server_id" ref="conedera_theme_common.dynamic_snippet_brands_action"/>
            <field name="field_names">name,image_512</field>
            <field name="limit" eval="16"/>
            <field name="name">Marcas Seleccionadas</field>
        </record>

    </data>
</odoo>
